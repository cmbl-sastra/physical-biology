<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001; background-color: #ecf1f7}
    span.s1 {font-kerning: none; background-color: #ecf1f7}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #ecf1f7; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #ecf1f7; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #000000; background-color: #ecf1f7; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; background-color: #ecf1f7; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #6b0001; background-color: #ecf1f7; -webkit-text-stroke: 0px #6b0001}
    span.s7 {font-kerning: none; color: #18702b; background-color: #ecf1f7; -webkit-text-stroke: 0px #18702b}
    span.s8 {font-kerning: none; color: #093c94; background-color: #ecf1f7; -webkit-text-stroke: 0px #093c94}
    span.s9 {font-kerning: none}
    span.s10 {font-kerning: none; color: #6f0ec3; background-color: #ecf1f7; -webkit-text-stroke: 0px #6f0ec3}
    span.s11 {font-kerning: none; color: #a4450b; background-color: #ecf1f7; -webkit-text-stroke: 0px #a4450b}
    span.s12 {font-kerning: none; color: #0e6e6d; background-color: #ecf1f7; -webkit-text-stroke: 0px #0e6e6d}
    span.s13 {font-kerning: none; color: #4d5055; background-color: #ecf1f7; -webkit-text-stroke: 0px #4d5055}
    span.s14 {font-kerning: none; color: #2a2a2a; -webkit-text-stroke: 0px #2a2a2a}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Negative Feedback Loop Simulator</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/chart.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.gstatic.com"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s7">'Inter'</span><span class="s1">, </span><span class="s8">sans-serif</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 text-gray-800"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto p-4 sm:p-6 md:p-8 max-w-7xl"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center mb-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl sm:text-4xl font-bold text-gray-900"</span><span class="s3">&gt;</span><span class="s4">Negative Feedback Loop Simulator</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-md sm:text-lg text-gray-600 mt-2"</span><span class="s3">&gt;</span><span class="s1">Explore the dynamics of a system where A produces B, and B inhibits A.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">main</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 lg:grid-cols-3 gap-8"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Controls Panel --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-1 bg-white p-6 rounded-xl shadow-lg border border-gray-200"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-semibold mb-6 border-b pb-3"</span><span class="s3">&gt;</span><span class="s4">Control Panel</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"controls"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-5"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">&lt;!-- Sliders will be dynamically inserted here --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Plot Area --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-2 bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-gray-200 flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"concentrationChart"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">main</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s7">'DOMContentLoaded'</span><span class="s1">, () =&gt; {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 1. DEFINE PARAMETERS AND CONFIGURATION</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// These define the sliders and their properties for the simulation.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> paramsConfig = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>initialA:<span class="Apple-converted-space">      </span>{ label: </span><span class="s7">'Initial A'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">100</span><span class="s1">, step: </span><span class="s11">1</span><span class="s1">, value: </span><span class="s11">50</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>initialB:<span class="Apple-converted-space">      </span>{ label: </span><span class="s7">'Initial B'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">100</span><span class="s1">, step: </span><span class="s11">1</span><span class="s1">, value: </span><span class="s11">10</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>sourceA: <span class="Apple-converted-space">      </span>{ label: </span><span class="s7">'A Production'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">10</span><span class="s1">, step: </span><span class="s11">0.1</span><span class="s1">, value: </span><span class="s11">2</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>inhibition:<span class="Apple-converted-space">    </span>{ label: </span><span class="s7">'B Inhibits A'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">1</span><span class="s1">, step: </span><span class="s11">0.01</span><span class="s1">, value: </span><span class="s11">0.2</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>decayA:<span class="Apple-converted-space">        </span>{ label: </span><span class="s7">'A Decay Rate'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">1</span><span class="s1">, step: </span><span class="s11">0.01</span><span class="s1">, value: </span><span class="s11">0.1</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>productionB: <span class="Apple-converted-space">  </span>{ label: </span><span class="s7">'B Production (from A)'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">1</span><span class="s1">, step: </span><span class="s11">0.01</span><span class="s1">, value: </span><span class="s11">0.05</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>decayB:<span class="Apple-converted-space">        </span>{ label: </span><span class="s7">'B Decay Rate'</span><span class="s1">, min: </span><span class="s11">0</span><span class="s1">, max: </span><span class="s11">1</span><span class="s1">, step: </span><span class="s11">0.01</span><span class="s1">, value: </span><span class="s11">0.05</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> controlsContainer = document.getElementById(</span><span class="s7">'controls'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> ctx = document.getElementById(</span><span class="s7">'concentrationChart'</span><span class="s1">).getContext(</span><span class="s7">'2d'</span><span class="s1">);</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 2. CREATE UI CONTROLS (SLIDERS)</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Dynamically generate sliders based on the configuration object.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">Object</span><span class="s1">.entries(paramsConfig).forEach(([key, config]) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> controlDiv = document.createElement(</span><span class="s7">'div'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>controlDiv.className = </span><span class="s7">'flex flex-col'</span><span class="s1">;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> label = document.createElement(</span><span class="s7">'label'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>label.htmlFor = key;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>label.className = </span><span class="s1">'text-sm font-medium text-gray-700 mb-1 flex justify-between'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> labelText = document.createElement(</span><span class="s7">'span'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>labelText.textContent = config.label;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> valueSpan = document.createElement(</span><span class="s7">'span'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>valueSpan.id = </span><span class="s7">`</span><span class="s1">${key}</span><span class="s7">-value`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>valueSpan.className = </span><span class="s7">'font-semibold'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>valueSpan.textContent = config.value;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>label.appendChild(labelText);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>label.appendChild(valueSpan);</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> slider = document.createElement(</span><span class="s7">'input'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.type = </span><span class="s7">'range'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.id = key;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.min = config.min;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.max = config.max;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.step = config.step;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>slider.value = config.value;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>slider.className = </span><span class="s1">'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer'</span><span class="s4">;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>controlDiv.appendChild(label);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>controlDiv.appendChild(slider);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>controlsContainer.appendChild(controlDiv);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 3. INITIALIZE THE PLOT (CHART.JS)</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Sets up the chart with initial empty data and configuration.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> concentrationChart = </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Chart</span><span class="s1">(ctx, {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>type: </span><span class="s7">'line'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>data: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>labels: [], </span><span class="s13">// Time points</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>datasets: [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>label: </span><span class="s7">'Concentration of A'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>data: [],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>borderColor: </span><span class="s7">'rgb(59, 130, 246)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>backgroundColor: </span><span class="s7">'rgba(59, 130, 246, 0.1)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>borderWidth: </span><span class="s11">2.5</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>pointRadius: </span><span class="s11">0</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>tension: </span><span class="s11">0.4</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>fill: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>label: </span><span class="s7">'Concentration of B'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>data: [],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>borderColor: </span><span class="s7">'rgb(239, 68, 68)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>backgroundColor: </span><span class="s7">'rgba(239, 68, 68, 0.1)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>borderWidth: </span><span class="s11">2.5</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>pointRadius: </span><span class="s11">0</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>tension: </span><span class="s11">0.4</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>fill: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>]</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>options: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>responsive: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>maintainAspectRatio: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>animation: {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span>duration: </span><span class="s11">0</span><span class="s4"> </span><span class="s1">// Disable animation for instant updates</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scales: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>x: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>title: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>display: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>text: </span><span class="s7">'Time'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>font: { size: </span><span class="s11">14</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>grid: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>color: </span><span class="s7">'rgba(200, 200, 200, 0.2)'</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>y: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>title: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>display: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>text: </span><span class="s7">'Concentration'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>font: { size: </span><span class="s11">14</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>beginAtZero: </span><span class="s10">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>grid: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>color: </span><span class="s7">'rgba(200, 200, 200, 0.2)'</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>plugins: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>legend: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>position: </span><span class="s7">'top'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>labels: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>font: { size: </span><span class="s11">14</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 4. THE SIMULATION ENGINE</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// This function runs the core logic of the simulation.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">function</span><span class="s1"> runSimulation() {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Read current values from all sliders</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> params = {};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">Object</span><span class="s1">.keys(paramsConfig).forEach(key =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>params[key] = parseFloat(document.getElementById(key).value);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Simulation constants</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> dt = </span><span class="s11">0.1</span><span class="s1">; </span><span class="s13">// Time step</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> numSteps = </span><span class="s11">2000</span><span class="s1">; </span><span class="s13">// Total simulation steps</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Initialize arrays to hold the results</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">let</span><span class="s1"> </span><span class="s12">A</span><span class="s1"> = params.initialA;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">let</span><span class="s1"> </span><span class="s12">B</span><span class="s1"> = params.initialB;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> timePoints = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> concentrationA = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> concentrationB = [];</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// The core simulation loop using the Euler method for numerical integration</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">for</span><span class="s1"> (</span><span class="s10">let</span><span class="s1"> i = </span><span class="s11">0</span><span class="s1">; i &lt; numSteps; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>timePoints.push(i * dt);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>concentrationA.push(</span><span class="s12">A</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>concentrationB.push(</span><span class="s12">B</span><span class="s1">);</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// These are the differential equations governing the system</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// dA/dt = (source of A) - (inhibition by B) - (natural decay of A)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> dAdt = params.sourceA - (params.inhibition * </span><span class="s12">B</span><span class="s1">) - (params.decayA * </span><span class="s12">A</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// dB/dt = (production from A) - (natural decay of B)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> dBdt = (params.productionB * </span><span class="s12">A</span><span class="s1">) - (params.decayB * </span><span class="s12">B</span><span class="s1">);</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Update concentrations for the next time step</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">A</span><span class="s1"> += dAdt * dt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">B</span><span class="s1"> += dBdt * dt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Ensure concentrations don't go below zero</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> (</span><span class="s12">A</span><span class="s1"> &lt; </span><span class="s11">0</span><span class="s1">) </span><span class="s12">A</span><span class="s1"> = </span><span class="s11">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> (</span><span class="s12">B</span><span class="s1"> &lt; </span><span class="s11">0</span><span class="s1">) </span><span class="s12">B</span><span class="s1"> = </span><span class="s11">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s1"> { timePoints, concentrationA, concentrationB };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 5. UPDATE FUNCTION</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// This function calls the simulation and then updates the chart with the new data.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">function</span><span class="s1"> updatePlot() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> { timePoints, concentrationA, concentrationB } = runSimulation();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>concentrationChart.data.labels = timePoints;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>concentrationChart.data.datasets[</span><span class="s11">0</span><span class="s1">].data = concentrationA;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>concentrationChart.data.datasets[</span><span class="s11">1</span><span class="s1">].data = concentrationB;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>concentrationChart.update();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 6. EVENT LISTENERS</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Listen for changes on any slider and update the plot accordingly.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>controlsContainer.addEventListener(</span><span class="s7">'input'</span><span class="s1">, (event) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">if</span><span class="s1"> (event.target.type === </span><span class="s7">'range'</span><span class="s1">) {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Update the text value next to the slider label</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById(</span><span class="s7">`</span><span class="s1">${event.target.id}</span><span class="s7">-value`</span><span class="s1">).textContent = event.target.value;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>updatePlot();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 7. INITIAL RUN</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Run the simulation and draw the plot when the page first loads.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>updatePlot();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s9"></span><br></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p9"><span class="s14">&lt;/</span><span class="s9">html</span><span class="s14">&gt;</span></p>
</body>
</html>
